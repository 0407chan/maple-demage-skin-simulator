(this["webpackJsonpmaple-demage-skin-simulator"]=this["webpackJsonpmaple-demage-skin-simulator"]||[]).push([[0],{810:function(e,n,t){},812:function(e,n,t){"use strict";t.r(n);t(361);var a,r,i,c,s,o,u,d,l,b,m,p,f,g,j,x,h,O,k,y,v,w=t(0),N=t.n(w),S=t(40),C=t.n(S),T=t(99),M=t(352),L=t(104),E=t(29),D=t(832),F=t(43),I=t.n(F),z=t(69),R=t(135),K=t.n(R),P=function(){var e=Object(z.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("https://maplestory.io/api/wz/KMS/353/Effect/DamageSkin.img/".concat(n.skinNumber,"/").concat(n.skinType,"/").concat(n.damageNumber));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Q=function(e){return Object(T.useQuery)(["getDamageSkin",e],Object(z.a)(I.a.mark((function n(){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",P(e));case 1:case"end":return n.stop()}}),n)}))),{enabled:void 0!==e.skinNumber,retry:!1,keepPreviousData:!1,staleTime:36e5,refetchOnWindowFocus:!1})},W=function(){var e=Object(z.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("https://maplestory.io/api/wz/KMS/353/Effect/DamageSkin.img/".concat(n.skinNumber,"/").concat(n.skinType));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(z.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("https://maplestory.io/api/KMS/352/item",{params:n});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=t(41),B=t(42),H=B.a.div(a||(a=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #282c34;\n  width: 100%;\n  height: 100%;\n"]))),J=B.a.div(r||(r=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #282c34;\n  width: 100%;\n  height: 60px;\n"]))),$=B.a.div(i||(i=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #282c34;\n  gap: 20px;\n  width: 100%;\n  height: 100%;\n"]))),V=(B.a.span(c||(c=Object(A.a)(["\n  color: #eeeeee;\n  font-size: 18px;\n  font-weight: bold;\n"]))),B.a.img(s||(s=Object(A.a)(["\n  cursor: pointer;\n"])))),_=function(e){var n=e.skinNumber,t=e.skinType;return{damage0:Q({skinNumber:n,skinType:t,damageNumber:"0"}),damage1:Q({skinNumber:n,skinType:t,damageNumber:"1"}),damage2:Q({skinNumber:n,skinType:t,damageNumber:"2"}),damage3:Q({skinNumber:n,skinType:t,damageNumber:"3"}),damage4:Q({skinNumber:n,skinType:t,damageNumber:"4"}),damage5:Q({skinNumber:n,skinType:t,damageNumber:"5"}),damage6:Q({skinNumber:n,skinType:t,damageNumber:"6"}),damage7:Q({skinNumber:n,skinType:t,damageNumber:"7"}),damage8:Q({skinNumber:n,skinType:t,damageNumber:"8"}),damage9:Q({skinNumber:n,skinType:t,damageNumber:"9"}),numberSpace:Q({skinNumber:n,skinType:t,damageNumber:"numberSpace"}),guard:Q({skinNumber:n,skinType:"NoRed0",damageNumber:"guard"}),Miss:Q({skinNumber:n,skinType:"NoRed0",damageNumber:"Miss"}),resist:Q({skinNumber:n,skinType:"NoRed0",damageNumber:"resist"}),criEffect:Q({skinNumber:n,skinType:"NoCri1",damageNumber:"Effect3"})}},q=Object(B.b)(o||(o=Object(A.a)(["\n  0% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n\n  50%{\n    transform: translateY(-40px);\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateY(-80px);\n  }\n"]))),G=B.a.div(u||(u=Object(A.a)(["\n  display: flex;\n  position: absolute;\n  opacity: 0;\n  animation: "," 1s linear;\n"])),q),U=B.a.div(d||(d=Object(A.a)(["\n  display: flex;\n"]))),X=t(25),Z=function(e){var n=e.skinNumber,t=e.damageItem,a=e.setDamageList,r=Object(w.useState)(1e3),i=Object(E.a)(r,2),c=i[0],s=(i[1],Object(w.useState)(!0)),o=Object(E.a)(s,2),u=o[0],d=o[1],l=_({skinNumber:n,skinType:t.isCritical?"NoCri1":"NoRed1"}),b=(l.Miss,l.criEffect),m=l.damage0,p=l.damage1,f=l.damage2,g=l.damage3,j=l.damage4,x=l.damage5,h=l.damage6,O=l.damage7,k=l.damage8,y=l.damage9,v=(l.guard,l.numberSpace),N=(l.resist,function(e){switch(e){case 0:return m;case 1:return p;case 2:return f;case 3:return g;case 4:return j;case 5:return x;case 6:return h;case 7:return O;case 8:return k;case 9:default:return y}}),S=function(e){var n,t,a;return e.data&&e.data.value&&""!==e.data.value?Object(X.jsx)("img",{draggable:"false",style:{display:"flex",width:"fit-content",marginLeft:void 0!==(null===(n=v.data)||void 0===n?void 0:n.value)&&Number(null===(t=v.data)||void 0===t?void 0:t.value)<0?Number(null===(a=v.data)||void 0===a?void 0:a.value):void 0},src:"data:image/png;base64,".concat(e.data.value)}):null};return Object(w.useEffect)((function(){setTimeout((function(){a((function(e){return e.filter((function(e){return e.id!==t.id}))})),d(!1)}),c)}),[]),u?Object(X.jsxs)(G,{className:"no-drag",children:[t.isCritical&&Object(X.jsxs)(U,{children:[S(b)," "]}),"".concat(t.damage).split("").map((function(e,n){return Object(X.jsxs)("div",{children:[S(N(Number(e)))," "]},n)}))]}):null},ee=t(831),ne=t(57),te=t.n(ne),ae=B.a.div(l||(l=Object(A.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  gap: 16px;\n\n  ","\n"])),(function(e){return void 0!==e.gap&&{gap:e.gap}})),re=function(e){var n=e.gap,t=e.style,a=e.children;return Object(X.jsx)(ae,{gap:n,style:t,children:void 0!==n&&n<0?Object(X.jsx)("div",{style:{marginLeft:n},children:a}):a})},ie=t(349),ce=B.a.div(b||(b=Object(A.a)(["\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 4;\n  background-color: rgba(0, 0, 0, 0.3);\n  ","\n"])),(function(e){return e.isOpen?{visibility:"visible",opacity:1}:{visibility:"hidden",opacity:0}})),se=B.a.div(m||(m=Object(A.a)(["\n  display: flex;\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(60, 60, 60, 0.93);\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.8);\n  border-radius: 5px;\n  border: 1px solid rgba(169, 169, 169, 0.9);\n  gap: 10px;\n  opacity: 0;\n  z-index: 10;\n  @media screen and (max-width: 400px) {\n    width: calc(100vw - 40px);\n    height: calc(100vh - 40px);\n  }\n  width: 360px;\n  height: calc(100vh - 40px);\n  transition: all 0.3s ease;\n  ","\n"])),(function(e){return e.isOpen?{visibility:"visible",opacity:1}:{visibility:"hidden",opacity:0}})),oe=B.a.div(p||(p=Object(A.a)(["\n  display: flex;\n  width: 100%;\n  font-size: 12px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  color: #ffcc5f;\n  padding-top: 10px;\n  padding-bottom: 5px;\n"]))),ue=B.a.div(f||(f=Object(A.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  overflow-y: scroll;\n  gap: 4px;\n  width: 100%;\n  height: 100%;\n\n  /* width */\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Track */\n  &::-webkit-scrollbar-track {\n    background: unset;\n  }\n\n  /* Handle */\n  &::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background: #777;\n  }\n\n  /* Handle on hover */\n  &::-webkit-scrollbar-thumb:hover {\n    background: #888;\n  }\n"]))),de=B.a.div(g||(g=Object(A.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 16px;\n  cursor: pointer;\n  padding: 4px 16px;\n  border-radius: 5px;\n\n  &:hover {\n    color: #eeeeee;\n    background-color: #7676767e;\n  }\n\n  .skin-img {\n  }\n  .skin-text {\n    color: #e1e1e1;\n  }\n"]))),le=B.a.span(j||(j=Object(A.a)(["\n  background-color: #ffc60a;\n  color: #3e3003;\n  font-weight: bold;\n"]))),be=(B.a.div(x||(x=Object(A.a)(["\n  display: flex;\n  width: 100%;\n  border-radius: 5px;\n  background-color: #eeeeeee7;\n"]))),B.a.div(h||(h=Object(A.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n"]))),B.a.button(O||(O=Object(A.a)(["\n  display: flex;\n  position: absolute;\n  top: 7px;\n  right: 10px;\n  font-weight: bold;\n  width: fit-content;\n  align-items: center;\n  border: unset;\n  background-color: unset;\n  justify-content: center;\n  color: #eeeeee;\n\n  &:hover {\n    cursor: pointer;\n    color: #ffd884;\n  }\n"])))),me=Object(B.a)(ie.Input)(k||(k=Object(A.a)(["\n  width: calc(100% - 30px);\n  background-color: #eeeeee;\n  &:disabled {\n    background-color: #c8c8c8;\n  }\n"]))),pe=B.a.span(y||(y=Object(A.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  color: #eeeeee;\n"]))),fe=function(e){var n,t=e.isOpen,a=e.onCancel,r=e.hideCloseButton,i=void 0!==r&&r,c=Object(w.useState)([]),s=Object(E.a)(c,2),o=s[0],u=s[1],d=Object(w.useState)(""),l=Object(E.a)(d,2),b=l[0],m=l[1],p=(n={searchFor:"\ub370\ubbf8\uc9c0 \uc2a4\ud0a8"},Object(T.useQuery)(["getItemList",n],Object(z.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(n));case 1:case"end":return e.stop()}}),e)}))),{retry:!1,refetchOnWindowFocus:!1,keepPreviousData:!0}));Object(w.useEffect)((function(){var e,n=[];null===(e=p.data)||void 0===e||e.forEach((function(e){n.find((function(n){return"\ud30c\ud2f0 \ud018\uc2a4\ud2b8 \ub370\ubbf8\uc9c0 \uc2a4\ud0a8"!==n.name&&n.name===e.name}))||!e.name.includes("\ub370\ubbf8\uc9c0 \uc2a4\ud0a8")||e.name.includes("\uc0c1\uc790")||e.name.includes("\uc800\uc7a5 \uc2a4\ud06c\ub864")||e.name.includes("1\uce78 \ud655\uc7a5\uad8c")||e.name.includes("\uc120\ud0dd\uad8c")||e.name.includes("\ucd94\ucd9c\uad8c")||e.name.includes("\ubcf4\ub984\ub2ec \ud2f0\ucf13")||e.name.includes("VIP \ud2f0\ucf13")||e.name.includes("RISE \ud2f0\ucf13")||e.name.includes("\uac01\uc131\uc758 \ud2f0\ucf13")||e.name.includes("\uad50\ud658\uad8c")||n.push(e)}));var t=0;n=n.filter((function(e){return"\ud30c\ud2f0 \ud018\uc2a4\ud2b8 \ub370\ubbf8\uc9c0 \uc2a4\ud0a8"!==e.name||("\ud30c\ud2f0 \ud018\uc2a4\ud2b8 \ub370\ubbf8\uc9c0 \uc2a4\ud0a8"===e.name?t<2&&(t+=1,!0):void 0)})),u(n.sort((function(e,n){return e.id-n.id})))}),[p.data]);var f=function(){m(""),a()},g=function(){return void 0===b||""===b?o:o.filter((function(e){return e.name.toLocaleLowerCase().indexOf(b.toLocaleLowerCase())>-1}))},j=function(e){var n=b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),t=e.split(new RegExp("(".concat(n,")"),"gi"));return Object(X.jsx)(X.Fragment,{children:t.map((function(e,n){return e.toLowerCase()===b.toLowerCase()?Object(X.jsx)(le,{children:e},n):Object(X.jsx)(N.a.Fragment,{children:e},n)}))})};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ce,{isOpen:t,onClick:f}),Object(X.jsxs)(se,{isOpen:t,children:[Object(X.jsx)(oe,{children:"\ub370\ubbf8\uc9c0 \uc2a4\ud0a8 \uc120\ud0dd"}),Object(X.jsx)(me,{maxLength:20,placeholder:"\uac80\uc0c9",onChange:function(e){return m(e.target.value)}}),!i&&Object(X.jsx)(be,{onClick:f,children:"\u2716"}),Object(X.jsx)(ue,{children:g().length>0?g().map((function(e){return Object(X.jsxs)(de,{onClick:function(){return function(e){console.log(e.name,e.id)}(e)},children:[Object(X.jsx)("img",{className:"skin-img",src:"https://maplestory.io/api/KMS/352/item/".concat(e.id,"/icon")}),Object(X.jsx)("span",{className:"skin-text",children:e.name?j(e.name):void 0})]},e.id)})):Object(X.jsxs)(pe,{children:["[",b,"] \uc2a4\ud0a8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]})})]})]})},ge=B.a.div(v||(v=Object(A.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  padding: 20px;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n"]))),je=function(e){var n=e.skinNumber,t=e.onSetSkinNumber,a=Object(w.useState)(!1),r=Object(E.a)(a,2),i=r[0],c=r[1];return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(ge,{children:[Object(X.jsx)(te.a,{onClick:function(){return c(!0)},children:"\uc2a4\ud0a8"}),Object(X.jsxs)(re,{style:{justifyContent:"center"},children:[Object(X.jsx)(te.a,{disabled:1===n,onClick:function(){return t(n-1)},children:"-"}),Object(X.jsx)(ee.a,{style:{width:80,textAlign:"center"},value:n,onChange:function(e){return t(e)}}),Object(X.jsx)(te.a,{onClick:function(){return t(n+1)},children:"+"})]}),Object(X.jsx)(te.a,{disabled:!0,children:"\uc138\ud305"})]}),Object(X.jsx)(fe,{isOpen:i,onCancel:function(){return c(!1)}})]})},xe="".concat("/maple-demage-skin-simulator","/images/hit1_0.png"),he=function(){var e,n=Object(w.useState)(287),t=Object(E.a)(n,2),a=t[0],r=t[1],i=Object(w.useState)("NoCri1"),c=Object(E.a)(i,2),s=c[0],o=(c[1],Object(w.useState)([])),u=Object(E.a)(o,2),d=u[0],l=u[1],b=Object(w.useState)(!1),m=Object(E.a)(b,2),p=m[0],f=m[1];e={skinNumber:a,skinType:s},Object(T.useQuery)(["getDamageSkinAll",e],Object(z.a)(I.a.mark((function n(){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",W(e));case 1:case"end":return n.stop()}}),n)}))),{enabled:void 0!==e.skinNumber,retry:!1,keepPreviousData:!0,refetchOnWindowFocus:!1});function g(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e))+e}return Object(X.jsxs)(H,{children:[Object(X.jsx)(J,{children:Object(X.jsx)(je,{onSetSkinNumber:function(e){r(e),l([])},skinNumber:a})}),Object(X.jsxs)($,{className:"no-drag",children:[Object(X.jsx)(re,{style:{justifyContent:"center"},children:d.map((function(e){return Object(X.jsx)(Z,{damageItem:e,setDamageList:l,skinNumber:a},e.id)}))}),Object(X.jsx)(V,{draggable:"false",src:p?xe:"https://maplestory.io/api/KMS/356/mob/100004/render/stand",alt:"orange-mushroom",onClick:function(){return function(){f(!0);var e={id:Object(D.a)(),skinNumber:a,damage:g(1e5,4e5),isCritical:100*Math.random()<60};setTimeout((function(){f(!1)}),1e3),l([].concat(Object(L.a)(d),[e]))}()}})]})]})},Oe=(t(810),new T.QueryClient);C.a.render(Object(X.jsx)(N.a.StrictMode,{children:Object(X.jsx)(T.QueryClientProvider,{client:Oe,children:Object(X.jsx)(M.a,{children:Object(X.jsx)(he,{})})})}),document.getElementById("root"))}},[[812,1,2]]]);